{"version":3,"sources":["webpack:///./fetchCountries.js","webpack:///./index.js"],"names":["searchQuery","fetch","then","response","json","debounce","require","PNotify","defaults","width","currentCountry","document","querySelector","root","addEventListener","fetchCountries","value","data","length","error","text","innerHTML","reduce","markup","el","name","createGalleryItem","createGalleryList","country","console","log","languages","capital","population","acc","nativeName","flag"],"mappings":"+KAAe,WAASA,GACpB,OAAOC,MAAM,yCAAyCD,GACrDE,MAAK,SAAAC,GAAQ,OAAIA,EAASC,W,wBCAzBC,EAAWC,EAAQ,QAGzBC,IAAQC,SAASC,MAAQ,OAIzB,IAAMC,EAAiBC,SAASC,cAAc,+BACxCC,EAAOF,SAASC,cAAc,SACpCF,EAAeI,iBAAiB,QAAQT,GAExC,WACIU,EAAeL,EAAeM,OAC7Bd,MAAK,SAAAe,GAOF,GANGA,EAAKC,OAAS,IA+BrBX,IAAQY,MAAM,CACVC,KAAM,0EA7BHH,EAAKC,OAAQ,GAAKD,EAAKC,OAAS,KACjCL,EAAKQ,UAuCf,SAA2BJ,GACvB,aAAcA,EAAKK,QAAO,SAACC,EAAQC,GAAT,OAAgBD,EAR9C,SAA2BC,GACvB,8BAEMA,EAAGC,KAFT,oBAOoDC,CAAkBF,KAAK,IAA3E,QAxCwBG,CAAkBV,IAEpB,IAAfA,EAAKC,OAAY,CAChB,IAAMU,EAAUX,EAAK,GACrBY,QAAQC,IAAIF,EAAQG,WACpBlB,EAAKQ,UAAL,YAA6BO,EAAQH,KAArC,qHAG0BG,EAAQI,QAHlC,uDAI6BJ,EAAQK,WAJrC,kIAQkBL,EAAQG,UA8BrBT,QAAO,SAACY,EAAIV,GAAL,OAAYU,EAAG,OAASV,EAAGW,WAAZ,UAA8B,IAtCzD,iHAacP,EAAQQ,KAbtB,mCAdgD,Q","file":"main.d3af5702d325dfa99ce5.js","sourcesContent":["export default function(searchQuery){\r\n    return fetch(`https://restcountries.eu/rest/v2/name/${searchQuery}`)\r\n    .then(response => response.json())\r\n}","import './styles.css';\r\nimport fetchCountries from './fetchCountries'\r\nconst debounce = require('lodash.debounce');\r\nimport '../node_modules/pnotify/dist/PNotifyBrightTheme.css'\r\nimport PNotify from '../node_modules/pnotify/dist/es/PNotify.js';\r\nPNotify.defaults.width = '100%';\r\n\r\n\r\n\r\nconst currentCountry = document.querySelector('input[data-action=\"search\"]');\r\nconst root = document.querySelector('.root');\r\ncurrentCountry.addEventListener('input',debounce(sendResult,500));\r\n\r\nfunction sendResult(){\r\n    fetchCountries(currentCountry.value)\r\n    .then(data =>{\r\n        if(data.length > 10){\r\n            alertError();\r\n        }\r\n        if(data.length >1 && data.length < 11){\r\n          root.innerHTML =  createGalleryList(data);\r\n        }\r\n        if(data.length ===1){\r\n            const country = data[0];\r\n            console.log(country.languages)\r\n            root.innerHTML = `     <h2>${country.name}</h2>\r\n            <div class=\"flex\">\r\n                <div class=\"content\">\r\n                  <p>Capital: <span>${country.capital}</span></p>\r\n                  <p>Population: <span>${country.population}</span></p>\r\n                  <div>\r\n                    <p>Languages:</p>\r\n                    <ul>\r\n                        ${lol(country.languages)}\r\n                    </ul>\r\n                  </div>\r\n               </div>\r\n      \r\n               <img src=${country.flag} alt=\"\">\r\n          </div>`;\r\n                          \r\n        }\r\n        \r\n    })\r\n\r\n}\r\nfunction alertError(){\r\n    PNotify.error({\r\n        text: `Too many matches found.\r\n         Please enter a more specific query!`,\r\n      });\r\n}\r\nfunction createGalleryItem(el){\r\n    return  `\r\n    <li >\r\n        ${el.name}\r\n    </li>\r\n    `\r\n}\r\nfunction createGalleryList(data){\r\n    return `<ul>${data.reduce((markup, el) => markup += createGalleryItem(el), \"\")}</ul>`;\r\n  }\r\nfunction lol(langs){\r\n    return langs.reduce((acc,el) => acc+=`<li>${el.nativeName}</li>`,'');\r\n}\r\n\r\n"],"sourceRoot":""}